<mat-card-subtitle>
  Trage deine Leistungen aus der {{ subjectName }} ein. Trage hier noch nicht
  spekulative Noten ein, sondern nur bereits abgeschlossene Pr√ºfungen:
</mat-card-subtitle>

<mat-list>
  <div *ngFor="let module of getSubjectConfig()?.modules; let i = index">
    <mat-list-item class="item">
      <div class="grid-row-3">
        <div class="module-name">
          {{ module.name }}
        </div>
        <!--  -->
        <div class="module-grade">
          <!-- select grade -->
          <mat-form-field
            class="module-grade-select"
            *ngIf="module.weight != 0"
          >
            <mat-label>Note</mat-label>
            <mat-select
              (selectionChange)="
                module.grade = $event.value ? $event.value : ''
              "
            >
              <mat-option></mat-option>
              <mat-option *ngFor="let grade of grades" [value]="grade">
                {{ grade }}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <!-- bestanden ? -->
          <div *ngIf="module.weight == 0">
            <mat-checkbox
              (change)="module.grade = $event.checked ? 'bestanden' : ''"
              >bestanden</mat-checkbox
            >
          </div>
        </div>
        <!--  -->
        <div class="module-ects">{{ module.ects }} ECTS</div>
      </div>
    </mat-list-item>
    <!--  -->
    <!--  -->
    <mat-divider></mat-divider>
    <mat-divider *ngIf="i % 3 == 2"></mat-divider>
  </div>
</mat-list>
<!-- WPF -->
<div class="wpf" *ngIf="getSubjectConfig()?.wpf != 0">
  <mat-card-subtitle>
    Trage deine Wahlpflicht-Leistungen ein:
  </mat-card-subtitle>
  <mat-list>
    <div *ngFor="let module of wpfs; let i = index">
      <mat-list-item class="wpf-item">
        <div class="grid-row-3">
          <mat-form-field class="module-name">
            <mat-label>Modulename</mat-label>
            <input matInput [(ngModel)]="module.name" />
          </mat-form-field>

          <!--  -->
          <div class="module-grade">
            <!-- select grade -->
            <mat-form-field
              class="module-grade-select"
              *ngIf="module.weight != 0"
            >
              <mat-label>Note</mat-label>
              <mat-select [(ngModel)]="module.grade">
                <mat-option></mat-option>
                <mat-option *ngFor="let grade of grades" [value]="grade">
                  {{ grade }}
                </mat-option>
              </mat-select>
            </mat-form-field>
            <!-- bestanden ? -->
            <div *ngIf="module.weight == 0">
              <mat-checkbox
                (change)="module.grade = $event.checked ? 'bestanden' : ''"
                >bestanden</mat-checkbox
              >
            </div>
          </div>
          <!--  -->
          <div class="module-ects">
            <mat-form-field class="module-ects-select">
              <mat-label>ECTS</mat-label>
              <mat-select
                (selectionChange)="
                  module.ects = $event.value ? $event.value : 0
                "
              >
                <mat-option></mat-option>
                <mat-option *ngFor="let e of ects" [value]="e">
                  {{ e }}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
        </div>
        <button mat-icon-button (click)="deleteWPF(i)">
          <mat-icon>delete</mat-icon>
        </button>
      </mat-list-item>
      <!--  -->
      <!--  -->
      <mat-divider></mat-divider>
      <mat-divider *ngIf="i % 3 == 2"></mat-divider>
    </div>
  </mat-list>
  <button mat-icon-button color="primary" (click)="addWPF()">
    <mat-icon>add</mat-icon>
  </button>
</div>

<div *ngIf="getSubjectConfig()?.didaktik?.length != 0">
  <mat-card-subtitle>
    Trage deine Leistungen der Didaktik der {{ subjectName }}</mat-card-subtitle
  >
  <mat-list>
    <div *ngFor="let module of getSubjectConfig()?.didaktik">
      <mat-list-item class="item">
        <div class="grid-row-3">
          <div class="module-name">
            {{ module.name }}
          </div>
          <!--  -->
          <div class="module-grade">
            <!-- select grade -->
            <mat-form-field
              class="module-grade-select"
              *ngIf="module.weight != 0"
            >
              <mat-label>Note</mat-label>
              <mat-select
                (selectionChange)="
                  module.grade = $event.value ? $event.value : ''
                "
              >
                <mat-option></mat-option>
                <mat-option *ngFor="let grade of grades" [value]="grade">
                  {{ grade }}
                </mat-option>
              </mat-select>
            </mat-form-field>
            <!-- bestanden ? -->
            <div *ngIf="module.weight == 0">
              <mat-checkbox
                (change)="module.grade = $event.checked ? 'bestanden' : ''"
                >bestanden</mat-checkbox
              >
            </div>
          </div>
          <!--  -->
          <div class="module-ects">{{ module.ects }} ECTS</div>
        </div>
      </mat-list-item>
      <!--  -->
      <!--  -->
      <mat-divider></mat-divider>
    </div>
  </mat-list>
</div>
